{"ast":null,"code":"// import React, { useEffect, useState } from \"react\";\n// import './featuredInfo.css'\n// import axios from \"axios\";\n// import { Pie } from \"react-chartjs-2\";\n// import {\n//   Chart as ChartJS,\n//   ArcElement,\n//   Tooltip,\n//   Legend,\n// } from \"chart.js\";\n\n// ChartJS.register(ArcElement, Tooltip, Legend);\n\nfunction DailyChart(keyword, timeUnit) {\n  const now = new Date();\n  const year = now.getFullYear();\n  const month = String(now.getMonth() + 1).padStart(2, \"0\");\n  const lastDate = new Date(year, now.getMonth() + 1, 0).getDate(); // 말일 계산\n\n  const startDate = timeUnit == \"month\" ? `${year}-01-01` : `$`;\n}\n\n// export default function FeaturedInfo({ keyword }) {\n//     const [dailyData, setDailyData] = useState(null);\n//     const [genderData, setGenderData] = useState(null);\n//     const [ageData, setAgeData] = useState(null);\n\n//     useEffect(() => {\n//         if (!keyword) return;\n\n//         const fetchDailyData = async () => {\n//             try {\n//                 const response = await axios.get(\"/api/trend\", {\n//                     params: { keyword, timeUnit: \"date\" },\n//                 });\n\n//                 console.log(\"일별 데이터: \", response.data); // 응답 전체 출력\n\n//                 const results = response.data.results[0];\n//                 const labels = results.data.map((item) => item.period);\n//                 const values = results.data.map((item) => item.ratio);\n\n//                 setDailyData({\n//                     labels,\n//                     dataset: [\n//                         {\n//                             label: `\"${keyword}\" 일별 검색량`,\n//                             data: values,\n//                             backgroundColor: [\n//                                 \"#FF6384\",\n//                                 \"#36A2EB\",\n//                                 \"#FFCE56\",\n//                                 \"#4BC0C0\",\n//                                 \"#9966FF\",\n//                               ],\n//                               hoverBackgroundColor: [\n//                                 \"#FF6384\",\n//                                 \"#36A2EB\",\n//                                 \"#FFCE56\",\n//                                 \"#4BC0C0\",\n//                                 \"#9966FF\",\n//                               ]\n//                         }\n//                     ]\n//                 });\n//             } catch (error) {\n//                 console.log(\"일별 데이터 요청 오류: \", error);\n//             }\n//         };\n\n//         // const fetchGenderData = async () => {\n//         //     try {\n//         //         const response = await axios.get(\"/api/trend\", {\n//         //             params: { keyword, timeUnit: \"month\", gender: \"\" }\n//         //         });\n\n//         //         console.log(\"성별 응답 데이터: \", response.data); // 응답 데이터 출력\n\n//         //         const results = response.data.results[0].data;\n//         //         const maleData = results.reduce((acc, cur) => acc + cur.male, 0);\n//         //         const femaleData = results.reduce((acc, cur) => acc + cur.female, 0);\n\n//         //         setGenderData({\n//         //             labels: [\"남성\", \"여성\"],\n//         //             datasets: [\n//         //                 {\n//         //                     label: `\"${keyword}\" 성별 검색 비율`,\n//         //                     data: [maleData, femaleData],\n//         //                     backgroundColor: [\"#36A2EB\", \"#FF6384\"],\n//         //                     hoverBackgroundColor: [\"#36A2EB\", \"#FF6384\"],\n//         //                 }\n//         //             ]\n//         //         });\n//         //     } catch (error) {\n//         //         console.log(\"성별 데이터 요청 오류: \", error);\n//         //     }\n//         // };\n\n//         // const fetchAgeData = async () => {\n//         //     try {\n//         //         const response = await axios.get(\"/api/trend\", {\n//         //             params: {\n//         //                 keyword,\n//         //                 timeUnit: \"month\",\n//         //                 ages: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\"]\n//         //             }\n//         //         });\n\n//         //         console.log(\"연령별 데이터: \", response.data); // 응답 전체 출력\n\n//         //         const results = response.data.results[0];\n//         //         const labels = [\"10대\", \"20대\", \"30대\", \"40대\", \"50대\", \"60대 이상\"];\n//         //         const values = results.data.map((item) => item.ratio);  // 서버가 연령대별 데이터 제공\n\n//         //         setAgeData({\n//         //             labels,\n//         //             datasets: [\n//         //                 {\n//         //                     label: `\"${keyword}\" 연령별 검색 비율`,\n//         //                     data: values,\n//         //                     backgroundColor: [\"#FF6384\", \"#36A2EB\", \"#FFCE56\", \"#4BC0C0\"],\n//         //                     hoverBackgroundColor: [\n//         //                         \"#FF6384\",\n//         //                         \"#36A2EB\",\n//         //                         \"#FFCE56\",\n//         //                         \"#4BC0C0\",\n//         //                     ]\n//         //                 }\n//         //             ]\n//         //         });\n//         //     } catch (error) {\n//         //         console.error(\"연령대별 데이터 요청 오류: \", error);\n//         //     }\n//         // };\n\n//         fetchDailyData();\n//         // fetchGenderData();\n//         // fetchAgeData();\n//     }, [keyword]);\n\n// return (\n\n//     <div className=\"featured\">\n\n//         <div className=\"featuredItem\">\n//                 <span className=\"featuredTitle\">일별 검색량</span>\n//                 {dailyData ? (\n//                     <Pie \n//                       data={dailyData}\n//                       options={{\n//                         responsive: true,\n//                         plugins: {\n//                             legend: { display: true, position: \"bottom\"}\n//                         },\n//                       }}\n//                     />\n//                 ) : (\n//                     <p>Loading daily chart...</p>\n//                 )}\n//             </div>\n\n//             <div className=\"featuredItem\">\n//                 <span className=\"featuredTitle\">성별 검색량</span>\n//                 {genderData ? (\n//                     <Pie \n//                       data={genderData}\n//                       options={{\n//                         responsive: true,\n//                         plugins: {\n//                             legend: { display: true, position: \"bottom\" }\n//                         }\n//                       }}\n//                     />\n//                 ) : (\n//                     <p>Loading gender chart...</p>\n//                 )}\n//             </div>\n\n//             <div className=\"featuredItem\">\n//                 <span className=\"featuredTitle\">연령별 검색량</span>\n//                 {ageData ? (\n//                     <Pie \n//                       data={ageData}\n//                       options={{\n//                         responsive: true,\n//                         plugins: {\n//                             legend: { display: true, position: \"bottom\" }\n//                         }\n//                       }}\n//                     />\n//                 ) : (\n//                     <p>Loading age chart...</p>\n//                 )}\n//             </div>\n//         </div>\n//     )\n// }\n\n// //     return (\n// //         <div className=\"featured\">\n// //             <div className=\"featuredItem\">\n// //                 <span className=\"featuredTitle\">일별 검색량</span>\n// //                 <div className=\"featuredMoneyContainer\">\n// //                     <span className=\"featuredMoney\">2,415</span>\n// //                     <span className=\"featuredMoneyRate\">\n// //                         -11.4 <FaLongArrowAltDown className=\"featuredIcon negative\" />\n// //                     </span>       \n// //                 </div>\n// //                 <span className=\"featuredSub\">Compared to last day</span>\n// //             </div>\n\n// //             <div className=\"featuredItem\">\n// //                 <span className=\"featuredTitle\">성별 검색량</span>\n// //                 <div className=\"featuredMoneyContainer\">\n// //                     <span className=\"featuredMoney\">1,234</span>\n// //                     <span className=\"featuredMoneyRate\">\n// //                         -3.4 <FaLongArrowAltDown className=\"featuredIcon negative\" />\n// //                     </span>       \n// //                 </div>\n// //                 <span className=\"featuredSub\">Compared to last day</span>\n// //             </div>\n\n// //             <div className=\"featuredItem\">\n// //                 <span className=\"featuredTitle\">연령별 검색량</span>\n// //                 <div className=\"featuredMoneyContainer\">\n// //                     <span className=\"featuredMoney\">4,213</span>\n// //                     <span className=\"featuredMoneyRate\">\n// //                         +11.4 <FaLongArrowAltUp  className=\"featuredIcon\" />\n// //                     </span>       \n// //                 </div>\n// //                 <span className=\"featuredSub\">Compared to last day</span>\n// //             </div>\n\n// //         </div>\n// //     )\n// // }\n_c = DailyChart;\nvar _c;\n$RefreshReg$(_c, \"DailyChart\");","map":{"version":3,"names":["DailyChart","keyword","timeUnit","now","Date","year","getFullYear","month","String","getMonth","padStart","lastDate","getDate","startDate","_c","$RefreshReg$"],"sources":["/Users/Seul/Desktop/react/front/src/components/featuredInfo/FeaturedInfo.jsx"],"sourcesContent":["// import React, { useEffect, useState } from \"react\";\n// import './featuredInfo.css'\n// import axios from \"axios\";\n// import { Pie } from \"react-chartjs-2\";\n// import {\n//   Chart as ChartJS,\n//   ArcElement,\n//   Tooltip,\n//   Legend,\n// } from \"chart.js\";\n\n// ChartJS.register(ArcElement, Tooltip, Legend);\n\nfunction DailyChart(keyword, timeUnit) {\n    const now = new Date();\n    const year = now.getFullYear();\n    const month = String(now.getMonth() + 1).padStart(2, \"0\");\n    const lastDate = new Date(year, now.getMonth() + 1, 0).getDate() // 말일 계산\n\n    const startDate = timeUnit == \"month\" ? `${year}-01-01` : `$`\n}\n\n\n\n// export default function FeaturedInfo({ keyword }) {\n//     const [dailyData, setDailyData] = useState(null);\n//     const [genderData, setGenderData] = useState(null);\n//     const [ageData, setAgeData] = useState(null);\n\n//     useEffect(() => {\n//         if (!keyword) return;\n\n//         const fetchDailyData = async () => {\n//             try {\n//                 const response = await axios.get(\"/api/trend\", {\n//                     params: { keyword, timeUnit: \"date\" },\n//                 });\n\n\n//                 console.log(\"일별 데이터: \", response.data); // 응답 전체 출력\n\n            \n//                 const results = response.data.results[0];\n//                 const labels = results.data.map((item) => item.period);\n//                 const values = results.data.map((item) => item.ratio);\n\n//                 setDailyData({\n//                     labels,\n//                     dataset: [\n//                         {\n//                             label: `\"${keyword}\" 일별 검색량`,\n//                             data: values,\n//                             backgroundColor: [\n//                                 \"#FF6384\",\n//                                 \"#36A2EB\",\n//                                 \"#FFCE56\",\n//                                 \"#4BC0C0\",\n//                                 \"#9966FF\",\n//                               ],\n//                               hoverBackgroundColor: [\n//                                 \"#FF6384\",\n//                                 \"#36A2EB\",\n//                                 \"#FFCE56\",\n//                                 \"#4BC0C0\",\n//                                 \"#9966FF\",\n//                               ]\n//                         }\n//                     ]\n//                 });\n//             } catch (error) {\n//                 console.log(\"일별 데이터 요청 오류: \", error);\n//             }\n//         };\n\n//         // const fetchGenderData = async () => {\n//         //     try {\n//         //         const response = await axios.get(\"/api/trend\", {\n//         //             params: { keyword, timeUnit: \"month\", gender: \"\" }\n//         //         });\n\n//         //         console.log(\"성별 응답 데이터: \", response.data); // 응답 데이터 출력\n\n\n//         //         const results = response.data.results[0].data;\n//         //         const maleData = results.reduce((acc, cur) => acc + cur.male, 0);\n//         //         const femaleData = results.reduce((acc, cur) => acc + cur.female, 0);\n\n//         //         setGenderData({\n//         //             labels: [\"남성\", \"여성\"],\n//         //             datasets: [\n//         //                 {\n//         //                     label: `\"${keyword}\" 성별 검색 비율`,\n//         //                     data: [maleData, femaleData],\n//         //                     backgroundColor: [\"#36A2EB\", \"#FF6384\"],\n//         //                     hoverBackgroundColor: [\"#36A2EB\", \"#FF6384\"],\n//         //                 }\n//         //             ]\n//         //         });\n//         //     } catch (error) {\n//         //         console.log(\"성별 데이터 요청 오류: \", error);\n//         //     }\n//         // };\n\n//         // const fetchAgeData = async () => {\n//         //     try {\n//         //         const response = await axios.get(\"/api/trend\", {\n//         //             params: {\n//         //                 keyword,\n//         //                 timeUnit: \"month\",\n//         //                 ages: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\"]\n//         //             }\n//         //         });\n\n//         //         console.log(\"연령별 데이터: \", response.data); // 응답 전체 출력\n\n\n//         //         const results = response.data.results[0];\n//         //         const labels = [\"10대\", \"20대\", \"30대\", \"40대\", \"50대\", \"60대 이상\"];\n//         //         const values = results.data.map((item) => item.ratio);  // 서버가 연령대별 데이터 제공\n\n//         //         setAgeData({\n//         //             labels,\n//         //             datasets: [\n//         //                 {\n//         //                     label: `\"${keyword}\" 연령별 검색 비율`,\n//         //                     data: values,\n//         //                     backgroundColor: [\"#FF6384\", \"#36A2EB\", \"#FFCE56\", \"#4BC0C0\"],\n//         //                     hoverBackgroundColor: [\n//         //                         \"#FF6384\",\n//         //                         \"#36A2EB\",\n//         //                         \"#FFCE56\",\n//         //                         \"#4BC0C0\",\n//         //                     ]\n//         //                 }\n//         //             ]\n//         //         });\n//         //     } catch (error) {\n//         //         console.error(\"연령대별 데이터 요청 오류: \", error);\n//         //     }\n//         // };\n\n//         fetchDailyData();\n//         // fetchGenderData();\n//         // fetchAgeData();\n//     }, [keyword]);\n\n\n// return (\n\n//     <div className=\"featured\">\n\n//         <div className=\"featuredItem\">\n//                 <span className=\"featuredTitle\">일별 검색량</span>\n//                 {dailyData ? (\n//                     <Pie \n//                       data={dailyData}\n//                       options={{\n//                         responsive: true,\n//                         plugins: {\n//                             legend: { display: true, position: \"bottom\"}\n//                         },\n//                       }}\n//                     />\n//                 ) : (\n//                     <p>Loading daily chart...</p>\n//                 )}\n//             </div>\n\n//             <div className=\"featuredItem\">\n//                 <span className=\"featuredTitle\">성별 검색량</span>\n//                 {genderData ? (\n//                     <Pie \n//                       data={genderData}\n//                       options={{\n//                         responsive: true,\n//                         plugins: {\n//                             legend: { display: true, position: \"bottom\" }\n//                         }\n//                       }}\n//                     />\n//                 ) : (\n//                     <p>Loading gender chart...</p>\n//                 )}\n//             </div>\n\n//             <div className=\"featuredItem\">\n//                 <span className=\"featuredTitle\">연령별 검색량</span>\n//                 {ageData ? (\n//                     <Pie \n//                       data={ageData}\n//                       options={{\n//                         responsive: true,\n//                         plugins: {\n//                             legend: { display: true, position: \"bottom\" }\n//                         }\n//                       }}\n//                     />\n//                 ) : (\n//                     <p>Loading age chart...</p>\n//                 )}\n//             </div>\n//         </div>\n//     )\n// }\n\n\n\n// //     return (\n// //         <div className=\"featured\">\n// //             <div className=\"featuredItem\">\n// //                 <span className=\"featuredTitle\">일별 검색량</span>\n// //                 <div className=\"featuredMoneyContainer\">\n// //                     <span className=\"featuredMoney\">2,415</span>\n// //                     <span className=\"featuredMoneyRate\">\n// //                         -11.4 <FaLongArrowAltDown className=\"featuredIcon negative\" />\n// //                     </span>       \n// //                 </div>\n// //                 <span className=\"featuredSub\">Compared to last day</span>\n// //             </div>\n\n// //             <div className=\"featuredItem\">\n// //                 <span className=\"featuredTitle\">성별 검색량</span>\n// //                 <div className=\"featuredMoneyContainer\">\n// //                     <span className=\"featuredMoney\">1,234</span>\n// //                     <span className=\"featuredMoneyRate\">\n// //                         -3.4 <FaLongArrowAltDown className=\"featuredIcon negative\" />\n// //                     </span>       \n// //                 </div>\n// //                 <span className=\"featuredSub\">Compared to last day</span>\n// //             </div>\n\n// //             <div className=\"featuredItem\">\n// //                 <span className=\"featuredTitle\">연령별 검색량</span>\n// //                 <div className=\"featuredMoneyContainer\">\n// //                     <span className=\"featuredMoney\">4,213</span>\n// //                     <span className=\"featuredMoneyRate\">\n// //                         +11.4 <FaLongArrowAltUp  className=\"featuredIcon\" />\n// //                     </span>       \n// //                 </div>\n// //                 <span className=\"featuredSub\">Compared to last day</span>\n// //             </div>\n\n// //         </div>\n// //     )\n// // }"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,SAASA,UAAUA,CAACC,OAAO,EAAEC,QAAQ,EAAE;EACnC,MAAMC,GAAG,GAAG,IAAIC,IAAI,CAAC,CAAC;EACtB,MAAMC,IAAI,GAAGF,GAAG,CAACG,WAAW,CAAC,CAAC;EAC9B,MAAMC,KAAK,GAAGC,MAAM,CAACL,GAAG,CAACM,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;EACzD,MAAMC,QAAQ,GAAG,IAAIP,IAAI,CAACC,IAAI,EAAEF,GAAG,CAACM,QAAQ,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAACG,OAAO,CAAC,CAAC,EAAC;;EAEjE,MAAMC,SAAS,GAAGX,QAAQ,IAAI,OAAO,GAAG,GAAGG,IAAI,QAAQ,GAAG,GAAG;AACjE;;AAIA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAGA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAGA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AAAAS,EAAA,GAvOSd,UAAU;AAAA,IAAAc,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}